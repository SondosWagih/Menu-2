(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const i of e.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function n(t){if(t.ep)return;t.ep=!0;const e=s(t);fetch(t.href,e)}})();AOS.init({duration:800,easing:"ease-in-out",once:!0,mirror:!1,anchorPlacement:"top-bottom"});new Swiper(".special-offers-slider",{loop:!0,slidesPerView:1,autoplay:{delay:5e3,disableOnInteraction:!1},preventClicks:!1,preventClicksPropagation:!1,grabCursor:!0,pagination:{el:".swiper-pagination",clickable:!0}});new Swiper(".testimonials-slider",{direction:"horizontal",loop:!0,slidesPerView:1,spaceBetween:30,speed:1e3,autoplay:{delay:3e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},grabCursor:!0,centeredSlides:!0,allowTouchMove:!0,breakpoints:{768:{slidesPerView:2},1024:{slidesPerView:3}},on:{beforeInit:function(){const r=this.wrapperEl.querySelectorAll(".swiper-slide");if(r.length<4)for(let o=0;o<3;o++)r.forEach(s=>{this.wrapperEl.appendChild(s.cloneNode(!0))})}}});const a=document.getElementById("backToTop");window.addEventListener("scroll",()=>{window.pageYOffset>300?(a.classList.remove("opacity-0","invisible"),a.classList.add("opacity-100","visible")):(a.classList.remove("opacity-100","visible"),a.classList.add("opacity-0","invisible"))});a.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});document.addEventListener("DOMContentLoaded",()=>{const r=document.querySelectorAll(".menu-nav-item"),o=document.querySelectorAll(".menu-category"),s={root:null,rootMargin:"0px",threshold:.5},n=new IntersectionObserver(e=>{e.forEach(i=>{if(i.isIntersecting){r.forEach(d=>d.classList.remove("active"));const l=i.target.id,c=document.querySelector(`.menu-nav-item[href="#${l}"]`);c&&c.classList.add("active")}})},s);o.forEach(e=>{n.observe(e)}),r.forEach(e=>{e.addEventListener("click",function(i){i.preventDefault();const l=this.getAttribute("href"),c=document.querySelector(l);if(c){const d=document.querySelector("header").offsetHeight,u=c.getBoundingClientRect().top+window.pageYOffset-d-20;window.scrollTo({top:u,behavior:"smooth"}),r.forEach(f=>f.classList.remove("active")),this.classList.add("active")}})});let t=null;for(let e=0;e<o.length;e++){const i=o[e].getBoundingClientRect();if(i.top<=window.innerHeight/2&&i.bottom>=window.innerHeight/2){t=o[e].id;break}}if(t){const e=document.querySelector(`.menu-nav-item[href="#${t}"]`);e&&e.classList.add("active")}else r.length>0&&r[0].classList.add("active")});document.addEventListener("DOMContentLoaded",function(){const r=document.querySelector("#contact form");r&&r.addEventListener("submit",function(o){o.preventDefault();const s=new FormData(this),n=this.querySelector('button[type="submit"]'),t=n.innerHTML;n.innerHTML="جاري الإرسال...",n.disabled=!0,fetch(this.action,{method:"POST",body:s,headers:{Accept:"application/json"}}).then(e=>{if(e.ok){Swal.fire({title:"تم الإرسال بنجاح!",text:"شكراً لتواصلك معنا، سنرد عليك في أقرب وقت.",icon:"success",confirmButtonText:"حسناً",confirmButtonColor:"#92400e",background:"#fef3c7",color:"#78350f",iconColor:"#92400e"}),this.reset();return}throw new Error("Network response was not ok")}).catch(e=>{console.error("Error:",e),Swal.fire({title:"فشل الإرسال!",text:"تعذر إرسال رسالتك. ("+e.message+")",icon:"error",confirmButtonText:"حسناً",confirmButtonColor:"#b45309",background:"#fef3c7",color:"#78350f",iconColor:"#b45309"})}).finally(()=>{n.innerHTML=t,n.disabled=!1})})});
